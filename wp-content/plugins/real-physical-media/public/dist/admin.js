var realPhysicalMedia_admin;realPhysicalMedia_admin=function(){var e={2423:function(e,t,n){"use strict";n.r(t),n.d(t,{locationRestCustomFieldGet:function(){return k.C3},locationRestHandlerDelete:function(){return k.Nx},locationRestHandlerPost:function(){return k.AL},locationRestNoticeLicenseDelete:function(){return k.uG},locationRestQueueAutomaticHintDelete:function(){return k.Vh},locationRestQueueAutomaticPost:function(){return k.$q},locationRestQueueGet:function(){return k.UA},locationRestQueueItemPost:function(){return k.Cx},locationRestQueuePost:function(){return k.if},locationRestQueueQueueNoticeDelete:function(){return k.pA},locationRestSeoAttachmentGet:function(){return k.XC},locationRestSeoAttachmentOlderGet:function(){return k.oq},locationRestSeoAttachmentThumbsGet:function(){return k.QO},locationRestSeoClearAttachmentDelete:function(){return k.gX},locationRestSeoClearDelete:function(){return k.L3},locationRestSeoClearProcessDelete:function(){return k.Uq},locationRestSeoClearSizeDelete:function(){return k.Bh},locationRestSeoClearThumbnailDelete:function(){return k.Xb},locationRestSeoGet:function(){return k.b2},locationRestSeoStateDelete:function(){return k.cY},locationRestSeoStatePost:function(){return k.ft},OptionStore:function(){return P.aZ},QueueStore:function(){return P.L7},RootStore:function(){return P.My},SeoStore:function(){return P.Y},useStores:function(){return P.mZ}});var r=n(1781),i=n.n(r),a=n(5450),o=n.n(a),l=n(8714),c=n.n(l),s=n(8685),u=n(7196),p=n(6230),h=(n(1798),n(9458),n(896)),m=n(3795),d=n(2875),f=n(2232),b=n(1914),v=n(8018),y=n(8394),g=n(7358),R=n(9596),w=n(9238),E=n(923),_=n(1169),x={};for(var S in s)"default"!==S&&(x[S]=function(e){return s[e]}.bind(0,S));n.d(t,x);var k=n(6130),P=n(1741);for(var S in x={},_)["default","locationRestCustomFieldGet","locationRestHandlerDelete","locationRestHandlerPost","locationRestNoticeLicenseDelete","locationRestQueueAutomaticHintDelete","locationRestQueueAutomaticPost","locationRestQueueGet","locationRestQueueItemPost","locationRestQueuePost","locationRestQueueQueueNoticeDelete","locationRestSeoAttachmentGet","locationRestSeoAttachmentOlderGet","locationRestSeoAttachmentThumbsGet","locationRestSeoClearAttachmentDelete","locationRestSeoClearDelete","locationRestSeoClearProcessDelete","locationRestSeoClearSizeDelete","locationRestSeoClearThumbnailDelete","locationRestSeoGet","locationRestSeoStateDelete","locationRestSeoStatePost","OptionStore","QueueStore","RootStore","SeoStore","useStores"].indexOf(S)<0&&(x[S]=function(e){return _[e]}.bind(0,S));n.d(t,x),null===s.handleCorrupRestApi||void 0===s.handleCorrupRestApi||(0,s.handleCorrupRestApi)(i()({},p.M.get.optionStore.restNamespace,c()(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,_.request)({location:{path:"/plugin"}});case 2:case"end":return e.stop()}}),e)})))));var A=document.getElementById("admin-bar-rpm");A&&(0,u.render)(React.createElement(E.ZP,{prefixCls:"rpm-antd"},React.createElement(p.M.StoreProvider,null,React.createElement(h.Q,null))),A);var C=document.getElementById("rpm-handlers");C&&(0,u.render)(React.createElement(E.ZP,{prefixCls:"rpm-antd"},React.createElement(p.M.StoreProvider,null,React.createElement(m.N,null))),C),(0,d.o)(),(0,f.s)(),(0,b.q)(),(0,v.W)(),(0,y.X)(),(0,g._)(),(0,R.D)(),(0,w.N)()},896:function(e,t,n){"use strict";n.d(t,{Q:function(){return Q}});var r=n(150),i=n.n(r),a=n(3804),o=n(6230),l=n(4952),c=n(1169),s=n(9619),u=n(6839),p=n(8002),h=n(6631),m=n(2181),d=n(8644),f=(0,d.Pi)((function(){var e=(0,o.m)().queueStore.pausedError;return React.createElement("ul",null,React.createElement("li",{className:"rpm-headline"},(0,c.__)("Error")),React.createElement("li",null,React.createElement(l.Z,{type:"error",showIcon:!0,message:e.message})),React.createElement("li",null,React.createElement("a",{href:e.data.attachmentUrl,style:{textDecoration:"none",cursor:"pointer"},target:"_blank",rel:"noopener noreferrer"},React.createElement(s.Z,null)," ",(0,c.__)("Open file"))),React.createElement("li",null,React.createElement("a",{onClick:e.retry,style:{textDecoration:"none",cursor:"pointer"}},React.createElement(u.Z,null)," ",(0,c.__)("Retry"))),React.createElement("li",null,React.createElement("a",{onClick:e.skip,style:{textDecoration:"none",cursor:"pointer"}},React.createElement(p.Z,null)," ",(0,c.__)("Skip file and continue"))),React.createElement("li",null,React.createElement("a",{onClick:e.toggleUi,style:{textDecoration:"none",cursor:"pointer"}},e.uiDetails?React.createElement(h.Z,null):React.createElement(m.Z,null)," ",(0,c.__)("Details"))),e.uiDetails&&React.createElement("li",null,React.createElement("textarea",{style:{width:"100%"},rows:12,readOnly:!0,value:"".concat((0,c.__)("Code"),": ").concat(e.data.code,"\n\n").concat((0,c.__)("Message"),": ").concat(e.data.message,"\n\n\n").concat(e.data.stack)})))})),b=n(7032),v=n(1241),y=n(272),g=n(3527),R=n(3328),w=(0,d.Pi)((function(){var e=(0,o.m)(),t=e.queueStore,n=e.optionStore,r=t.count,i=t.countdown,s=t.queue,u=t.isHandlerActive,p=t.done,h=t.doneUnique,m=t.estimate,d=n.others,f=d.manageOptions,w=d.isFirstTimeQueueNoticeDismissed,E=(0,a.useCallback)((function(){n.dismissFirstTimeQueueNotice()}),[n]);return React.createElement("ul",null,React.createElement("li",{className:"rpm-headline"},(0,c.__)("Queue")),!w&&u&&React.createElement("li",null,React.createElement(l.Z,{message:React.createElement("span",null,(0,c.__)("You have successfully installed and configured Real Phyiscal Media! In this window you can follow live, which files were physically moved recently.")," ",React.createElement("a",{href:"#",onClick:E},(0,c.__)("Got it!"))),type:"warning",showIcon:!0,style:{marginBottom:"10px"}})),r>0&&React.createElement("li",{style:{textAlign:"center"}},(0,c._n)("One file left... (~ %s)","%d files left... (~ %s)",r,r,m),React.createElement("br",null),i>0?React.createElement("span",null,(0,c._n)("Resume processing now...","Resume processing in %d seconds...",r,r)):(0,c.__)("Loading..."),!!f&&React.createElement("div",null,(0,c.__)("Do not close this admin page.")," ",React.createElement("a",{href:"".concat(f,"#rml-rpm_cronjob")},(0,c.__)("Learn more about cronjob services")))),s.map((function(e,t){var n=e.filename,r=e.destinationPath,a=e.loaded,o=e.total,l=e.attachment;return React.createElement("li",{className:"rpm-wrap",key:l},0===t&&(i<=0?React.createElement(b.Z,{spin:!0}):React.createElement(v.Z,null)),0===t&&React.createElement("span",null," ",(a/o*100).toFixed(0),"% "),React.createElement("strong",null,n),React.createElement("div",null,React.createElement(y.Z,null)," ",React.createElement(g.Z,null)," ",r))})),0===r&&React.createElement("li",{style:{textAlign:"center"}},(0,c.__)("No entries"),React.createElement("br",null),u&&(i>0?React.createElement("span",null,(0,c._n)("Check for new entries soon...","Check for new entries in %d seconds...",i,i)):(0,c.__)("Loading...")),React.createElement("br",null)),p.length>0&&React.createElement("li",{className:"rpm-headline"},(0,c.__)("Last processed items %s",p.length>3?(0,c.__)("(%d total)",p.length):"")),h.map((function(e){var t=e.filename,n=e.destinationPath,r=e.preview;return React.createElement("li",{className:"rpm-wrap",key:"".concat(t).concat(n)},!!r&&React.createElement("img",{src:r,width:"auto",height:"35px",style:{float:"left",marginRight:"10px"}}),React.createElement(R.Z,{style:{color:"green"}})," ",React.createElement("strong",null,t),React.createElement("div",null,React.createElement(y.Z,null)," ",React.createElement(g.Z,null)," ",n))})))})),E=n(5450),_=n.n(E),x=n(8714),S=n.n(x),k=n(6310),P=n.n(k),A=n(6594),C=n(1493),z=n(2423),O=n(3609),D=n.n(O),N=(0,d.Pi)((function(){var e=(0,o.m)(),t=e.optionStore,n=e.seoStore,r=e.queueStore,i=t.view.isAutomaticInfoPanelOpen,s=t.others,u=s.manageOptions,p=s.isAutomaticQueueing,h=s.showLicenseNotice,m=s.pluginsUrl,d=s.supportsAllChildrenSql,f=s.isFirstTimeQueueNoticeDismissed,v=r.isHandlerActive,y=(0,a.useState)(!1),g=P()(y,2),R=g[0],w=g[1],E=(0,a.useState)(!1),x=P()(E,2),k=x[0],O=x[1],N=(0,a.useMemo)((function(){return D()("body").hasClass("wp-admin")}),[]),q=(0,a.useCallback)(S()(_().mark((function e(){return _().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!i){e.next=4;break}t.setAutomaticInfoPanelOpen(!1),e.next=18;break;case 4:if(!p||!window.confirm((0,c.__)("Are you sure?"))){e.next=17;break}return w(!0),e.prev=6,e.next=9,t.setIsAutomaticQueueing(!1);case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(6),C.ZP.error(e.t0.responseJSON.message);case 14:w(!1),e.next=18;break;case 17:t.setAutomaticInfoPanelOpen(!0);case 18:case"end":return e.stop()}}),e,null,[[6,11]])}))),[i,p,w,t]),T=(0,a.useCallback)(S()(_().mark((function e(){return _().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return w(!0),t.setAutomaticInfoPanelOpen(!1),e.prev=2,e.next=5,t.setIsAutomaticQueueing(!0);case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),C.ZP.error(e.t0.responseJSON.message);case 10:w(!1);case 11:case"end":return e.stop()}}),e,null,[[2,7]])}))),[w,w,t]),I=(0,a.useCallback)(S()(_().mark((function e(){return _().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,c.request)({location:z.locationRestNoticeLicenseDelete});case 2:window.location.reload();case 3:case"end":return e.stop()}}),e)}))),[]),M=(0,a.useCallback)((function(){O(!0),n.fetch(!0),D()(".rpm-popover").addClass("ant-popover-hidden")}),[O,n]),H=(0,a.useCallback)((function(){return O(!1)}),[O]);return React.createElement(React.Fragment,null,React.createElement(A.p,{open:k,onClose:H}),React.createElement("ul",null,React.createElement("li",{className:"rpm-headline"},(0,c.__)("Real Physical Media")),i?React.createElement("li",{className:"rpm-automatic-box"},React.createElement("strong",null,(0,c.__)("Activate automatic change detection")),d?React.createElement("span",null,React.createElement("p",null,(0,c.reactNl2Br)((0,c.__)('Real Physical Media can automatically detect when you have moved a file to the Real Media Library and can also move it physically in your file system.\n\nBefore you enable this feature, go to the "Attachment Details" or "Edit Media" dialog of the file you last moved and click the "Move physically" button. Then check that the file is available at the new URL as expected.\n\nWe recommend that you perform this manual check before you enable automatic moving, because special WordPress configurations rarely result in errors with the Media File Renamer handler.'))),React.createElement("br",null),React.createElement("a",{className:"button button-primary",onClick:T},(0,c.__)("Activate")),React.createElement("br",null)):React.createElement("p",null,(0,c.__)("Unfortunately, you cannot activate automatic change detection. Your current database system does not support some mandatory functions. Please update your MySQL/MariaDB database to the latest version. Technical reason: Your database system does not allow you to read from a hierarchical query created by wp_rml_create_all_children_sql().")),React.createElement("br",null),React.createElement("a",{style:{textDecoration:"underline",cursor:"pointer"},onClick:q},(0,c.__)("Back"))):React.createElement(React.Fragment,null,!!u&&React.createElement("li",null,React.createElement("a",{style:{textDecoration:"underline",cursor:"pointer"},onClick:q},R&&React.createElement(b.Z,{spin:!0}),p?(0,c.__)("Deactivate automatic queueing"):(0,c.__)("Activate automatic change detection"))," · ",N&&React.createElement("span",null,React.createElement("a",{style:{textDecoration:"underline",cursor:"pointer"},onClick:M},(0,c.__)("SEO Redirects"))," · "),React.createElement("a",{href:"".concat(u,"#rml-rpm-handlers")},(0,c.__)("Settings"))),h&&f&&v&&React.createElement("li",null,React.createElement(l.Z,{message:React.createElement("span",null,(0,c.__)("Product license not yet activated.")," ",React.createElement("a",{href:m},(0,c.__)("Activate license"))," ·"," ",React.createElement("a",{href:"#",onClick:I},(0,c.__)("Dismiss notice"))),type:"info",style:{marginBottom:"10px"}})))))})),q=n(8795),T=function(e){var t=e.loading,n=(0,a.useState)(0),r=P()(n,2),i=r[0],o=r[1];return(0,a.useEffect)((function(){var e=setInterval((function(){return o(3===i?1:i+1)}),1e3);return function(){return clearInterval(e)}}),[]),t?React.createElement("span",{style:{fontSize:"monospace",width:"10px",display:"inline-block"}},(0,q.M)(".",i)):null},I=n(6100),M=n(2313),H=(0,d.Pi)((function(){var e=(0,o.m)().queueStore;return React.createElement("span",null,e.pausedError?React.createElement("span",null,React.createElement(I.Z,null)," ",e.count):React.createElement("span",null,e.countdown<=0?React.createElement(b.Z,{spin:!0}):React.createElement(M.Z,null)," ",e.count," ",React.createElement(T,{loading:e.count>0})))})),U=n(3536),F=n(8090),L=n(8514),Q=(0,d.Pi)((function(){var e=(0,o.m)(),t=e.optionStore,n=e.queueStore,r=t.isRatable,l=t.slug,s=t.forcePopupOpen,u=n.pausedError,p=n.done,h=(0,a.useCallback)((function(){D()(".rpm-popover").addClass("ant-popover-hidden"),t.dismissFirstTimeQueueNotice(),t.setAutomaticInfoPanelOpen(!1)}),[t]);r&&p.length&&new U.RatingPointer(l,D()("#admin-bar-rpm").parent(),(0,c.__)("<strong>Real Physical Media</strong> just moved a file physically. Do you like it? Do us a favor and rate us."),"rpm-real-utils-bar-pointer");var m={};return s&&(m.visible=!0),React.createElement("span",{"data-done":p.length},React.createElement(L.Z,i()({trigger:"hover",prefixCls:"ant-popover",mouseEnterDelay:.1,mouseLeaveDelay:.1,overlayClassName:"rpm-popover",placement:"bottomLeft",overlay:React.createElement("span",null,React.createElement(F.Z,{onClick:h}),React.createElement("ul",null,React.createElement("li",{className:"rpm-section"},u?React.createElement(f,null):React.createElement(w,null)),React.createElement("li",{className:"rpm-section"},React.createElement(N,null))))},m),React.createElement("span",null,React.createElement(H,null))))}))},3795:function(e,t,n){"use strict";n.d(t,{N:function(){return m}});var r=n(8644),i=n(3620),a=n(4952),o=n(1493),l=n(3328),c=n(7636),s=n(1169),u=n(6230),p=n(3609),h=n.n(p),m=(0,r.Pi)((function(){var e=(0,u.m)().queueStore.handlers;return React.createElement(React.Fragment,null,e.map((function(e){return React.createElement("li",{className:"rpm-renamer",key:e.id},React.createElement(i.Z,{spinning:e.busy},React.createElement("h4",null,e.isHandler&&React.createElement(l.Z,{style:{color:"green"}})," ",e.name),React.createElement("p",null,(0,s.__)("Author"),": ",e.author,React.createElement("br",null),e.origin),!!e.error&&React.createElement(a.Z,{type:"error",showIcon:!0,message:React.createElement("span",null,e.error)}),!e.error&&(!e.isActivated&&React.createElement("a",{href:"#",onClick:e.installAndActivate.bind(e)},React.createElement(c.Z,{style:{color:"#333"}})," ",e.isInstalled?(0,s.__)("Activate plugin"):(0,s.__)("Install for free"))||React.createElement("a",{href:"#",onClick:function(t){return e.toggle().catch((function(e){o.ZP.error(e.responseJSON.message)})).then((function(){h()("body").hasClass("options-media-php")&&window.location.reload()})),t.preventDefault(),!1},style:{display:"block"}},e.isHandler?(0,s.__)("Deactivate as handler"):(0,s.__)("Activate as handler")))))})))}))},6594:function(e,t,n){"use strict";n.d(t,{p:function(){return b}});var r=n(8644),i=n(7243),a=n(6230),o=n(1169),l=n(9055),c=n(722),s=n(8255),u=(0,r.Pi)((function(e){var t,n,r,i,p,h,m,d,f,b,v,y,g=e.item,R=(0,a.m)().optionStore.others,w=R.seoAttachmentPage,E=R.manageOptions;g instanceof l.$&&(r=g.thumbnails,i=g.olderEntries,p=g.thumbnail,h=g.thumbs,m=g.older,d=g.fetchedThumbnails,f=g.fetchedOlder,b=g.fetchThumbnails.bind(g),v=g.fetchOlder.bind(g),y=g.busy);var _=g.id,x=g.attachment,S=g.fromUrl,k=g.fromUrlShort,P=g.toUrl,A=g.toUrlShort,C=g.modified,z=g.deleteBusy,O=g.size;return React.createElement(React.Fragment,null,React.createElement("tr",{key:_},!!p&&React.createElement("td",null,React.createElement("img",{src:p,width:"50px",height:"auto"})),React.createElement("td",{colSpan:p?1:2},React.createElement("a",{href:S,target:"_blank",rel:"noopener noreferrer",style:{wordBreak:"break-all"}},k),!d&&h>0&&React.createElement("a",{style:{textDecoration:"underline",cursor:"pointer",display:"block"},onClick:b},(0,o._n)("+ one thumbnail","+ %d thumbnails",h,h)),!f&&m>0&&React.createElement("a",{style:{textDecoration:"underline",cursor:"pointer",display:"block"},onClick:v},(0,o._n)("+ one older redirect","+ %d older redirects",m,m)),y&&React.createElement("span",{className:"spinner is-active"})),React.createElement("td",null,React.createElement("a",{href:P,target:"_blank",rel:"noopener noreferrer",style:{wordBreak:"break-all"}},A)),React.createElement("td",null,React.createElement("a",{href:w+x,target:"_blank",rel:"noopener noreferrer"},"# ",x)),React.createElement("td",null,C,"full"!==O&&" / ".concat(O)),React.createElement("td",null,!!E&&(z?React.createElement("span",{className:"spinner is-active"}):React.createElement(s.Z,{onClick:function(){return g.trash()}})))),!(null===(t=r)||void 0===t||!t.length)&&React.createElement(React.Fragment,null,React.createElement("tr",null,React.createElement("th",{colSpan:6},(0,o.__)("Thumbnails"))),r.map((function(e){return React.createElement(c.Qj,{key:e.id},(function(){return React.createElement(u,{item:e})}))}))),!(null===(n=i)||void 0===n||!n.length)&&React.createElement(React.Fragment,null,React.createElement("tr",null,React.createElement("th",{colSpan:6},(0,o.__)("Older redirects"))),i.map((function(e){return React.createElement(c.Qj,{key:e.id},(function(){return React.createElement(u,{item:e})}))}))))})),p=(0,r.Pi)((function(){var e=(0,a.m)().seoStore,t=e.count,n=e.items,r=e.busy;return React.createElement("table",{className:"wp-list-table widefat fixed striped"},React.createElement("thead",null,React.createElement("tr",null,React.createElement("th",{scope:"col",style:{width:"55px"}}),React.createElement("th",{scope:"col",className:"column-primary"},(0,o.__)("Old url")),React.createElement("th",{scope:"col"},(0,o.__)("Redirect to")),React.createElement("th",{scope:"col",style:{width:"50px"}},(0,o.__)("File")),React.createElement("th",{scope:"col",style:{width:"130px"}},(0,o.__)("Modified / Size name")),React.createElement("th",{scope:"col",style:{width:"20px"}}))),React.createElement("tbody",{id:"the-list"},t>0&&n.map((function(e){return React.createElement(u,{key:e.id,item:e})})),0===t&&React.createElement("tr",null,React.createElement("td",{colSpan:6},(0,o.__)("No entries")))),React.createElement("tfoot",null,React.createElement("tr",null,React.createElement("th",{colSpan:6},r?React.createElement("span",{className:"spinner is-active"}):n.length<t?React.createElement("a",{className:"button",onClick:function(){return e.fetch(!1)}},(0,o.__)("Load more")):React.createElement("span",null,(0,o.__)("No more redirects available"))))))})),h=n(520),m=n(7429),d=n(6443),f=160001,b=(0,r.Pi)((function(e){var t=e.open,n=e.onClose,r=(0,a.m)(),l=r.optionStore,c=r.seoStore,s=l.others.manageOptions,u=c.currentAttachment,b=c.count,v=c.state,y=c.sizes,g=c.sizeReadable;return React.createElement(i.Z,{open:t,onClose:n,center:!0,styles:{root:{zIndex:f},overlay:{zIndex:f},modal:{zIndex:f}}},React.createElement("h1",{className:"wp-heading-inline"},(0,o.__)("SEO Redirects")),React.createElement("hr",{className:"wp-header-end"}),0===u&&!!s&&React.createElement("ul",{className:"subsubsub",style:{marginBottom:"10px"}},React.createElement("li",{className:"all"},(0,o.__)("All")," ",React.createElement("span",{className:"count"},"(",b,")")," |"),React.createElement("li",{className:"all"},React.createElement("a",{style:{textDecoration:"underline",cursor:"pointer"},onClick:c.toggleState.bind(c)},v?(0,o.__)("Deactivate all redirects"):(0,o.__)("Activate all redirects"))," ","|"),React.createElement("li",{className:"all"},React.createElement(h.Z,{transitionName:null,overlayClassName:"rpm-clear-overlay",overlay:React.createElement(m.Z,{onClick:function(e){var t=e.key;return window.confirm((0,o.__)("Are you sure?"))&&c.clear("ALL"===t?void 0:t)}},y.map((function(e){return React.createElement(m.Z.Item,{key:e},(0,o.__)("Clear redirects for size '%s'",e))})),React.createElement(m.Z.Item,{key:"ALL"},(0,o.__)("Clear all redirects")))},React.createElement("a",{className:"ant-dropdown-link",href:"#"},(0,o.__)("Clear")," ",React.createElement(d.Z,null)))),React.createElement("li",{className:"all",style:{display:"none"}}," ",(0,o.__)("SEO database size"),": ",g)),React.createElement("div",{id:"posts-filter"},React.createElement(p,null)),React.createElement("br",{className:"clear"}))}))},9055:function(e,t,n){"use strict";n.d(t,{$:function(){return $}});var r,i,a,o,l,c,s,u,p,h,m,d,f,b,v,y,g,R,w,E,_,x,S=n(5450),k=n.n(S),P=n(6526),A=n.n(P),C=n(7830),z=n.n(C),O=n(1234),D=n.n(O),N=n(759),q=n.n(N),T=n(985),I=n.n(T),M=n(4552),H=n.n(M),U=n(410),F=n.n(U),L=(n(2983),n(7786)),Q=n.n(L),Z=n(2965),j=n(1169),V=n(5630),B=n(433),G=n(697),X=(r=function(){function e(t,n){var r=this;D()(this,e),z()(this,"type",i,this),z()(this,"original",a,this),z()(this,"id",o,this),z()(this,"processId",l,this),z()(this,"attachment",c,this),z()(this,"fromHash",s,this),z()(this,"fromUrl",u,this),z()(this,"toUrl",p,this),z()(this,"modified",h,this),z()(this,"size",m,this),z()(this,"validFullHash",d,this),z()(this,"deleteBusy",f,this),this.seoStore=void 0,this.trash=(0,Z.flow)(k().mark((function e(){return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.deleteBusy=!0,e.prev=1,e.t0=this.type,e.next="original"===e.t0?5:"thumbnail"===e.t0?10:"older"===e.t0?14:18;break;case 5:return e.next=7,(0,j.request)({location:V.g,params:{id:this.attachment}});case 7:return this.seoStore.items.splice(this.seoStore.items.indexOf(this),1),this.seoStore.count--,e.abrupt("break",19);case 10:return e.next=12,(0,j.request)({location:B.X,params:{id:this.id}});case 12:return this.original.thumbnails.splice(this.original.thumbnails.indexOf(this),1),e.abrupt("break",19);case 14:return e.next=16,(0,j.request)({location:G.U,params:{processId:this.processId}});case 16:return this.original.olderEntries.splice(this.original.olderEntries.indexOf(this),1),e.abrupt("break",19);case 18:return e.abrupt("return",!1);case 19:return e.abrupt("return",!0);case 22:return e.prev=22,e.t1=e.catch(1),e.abrupt("return",!1);case 25:return e.prev=25,this.deleteBusy=!1,e.finish(25);case 28:case"end":return e.stop()}}),e,this,[[1,22,25,28]])}))),this.seoStore=n,(0,Z.runInAction)((function(){return(0,Z.set)(r,t)}))}return Q()(e,[{key:"fromUrlShort",get:function(){return this.urlTruncate(this.fromUrl)}},{key:"toUrlShort",get:function(){return this.urlTruncate(this.toUrl)}}]),Q()(e,[{key:"urlTruncate",value:function(e){var t=window.location.origin;return e.startsWith(t)?e.substr(t.length):e}}]),e}(),i=F()(r.prototype,"type",[Z.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"original"}}),a=F()(r.prototype,"original",[Z.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),o=F()(r.prototype,"id",[Z.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),l=F()(r.prototype,"processId",[Z.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c=F()(r.prototype,"attachment",[Z.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),s=F()(r.prototype,"fromHash",[Z.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=F()(r.prototype,"fromUrl",[Z.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=F()(r.prototype,"toUrl",[Z.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=F()(r.prototype,"modified",[Z.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=F()(r.prototype,"size",[Z.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=F()(r.prototype,"validFullHash",[Z.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=F()(r.prototype,"deleteBusy",[Z.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),F()(r.prototype,"fromUrlShort",[Z.computed],Object.getOwnPropertyDescriptor(r.prototype,"fromUrlShort"),r.prototype),F()(r.prototype,"toUrlShort",[Z.computed],Object.getOwnPropertyDescriptor(r.prototype,"toUrlShort"),r.prototype),r),Y=n(8169),W=n(1349),$=(b=function(e){I()(n,e);var t=H()(n);function n(e,r){var i;return D()(this,n),i=t.call(this,e,r),z()(i,"thumbnail",v,q()(i)),z()(i,"thumbs",y,q()(i)),z()(i,"older",g,q()(i)),z()(i,"fetchedThumbnails",R,q()(i)),z()(i,"fetchedOlder",w,q()(i)),z()(i,"thumbnails",E,q()(i)),z()(i,"olderEntries",_,q()(i)),z()(i,"busy",x,q()(i)),i.fetchThumbnails=(0,Z.flow)(k().mark((function e(){var t,n,r=this;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.fetchedThumbnails=!0,this.busy=!0,this.thumbnails=[],e.next=5,(0,j.request)({location:Y.Q,params:{processId:this.processId}});case 5:t=e.sent,n=t.items,this.thumbnails=n.map((function(e){return new X(A()(A()({},e),{},{type:"thumbnail",original:r}),r.seoStore)})),this.busy=!1;case 9:case"end":return e.stop()}}),e,this)}))),i.fetchOlder=(0,Z.flow)(k().mark((function e(){var t,r,i=this;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.fetchedThumbnails=!0,this.busy=!0,this.thumbnails=[],e.next=5,(0,j.request)({location:W.o,params:{id:this.attachment}});case 5:t=e.sent,r=t.items,this.olderEntries=r.map((function(e){return new n(A()(A()({},e),{},{type:"older",original:i}),i.seoStore)})),this.busy=!1;case 9:case"end":return e.stop()}}),e,this)}))),i}return n}(X),v=F()(b.prototype,"thumbnail",[Z.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),y=F()(b.prototype,"thumbs",[Z.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),g=F()(b.prototype,"older",[Z.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),R=F()(b.prototype,"fetchedThumbnails",[Z.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),w=F()(b.prototype,"fetchedOlder",[Z.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),E=F()(b.prototype,"thumbnails",[Z.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),_=F()(b.prototype,"olderEntries",[Z.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),x=F()(b.prototype,"busy",[Z.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),b)},7358:function(e,t,n){"use strict";n.d(t,{_:function(){return g}});var r=n(5450),i=n.n(r),a=n(8714),o=n.n(a),l=n(6204),c=n(1169),s=n(2423),u=n(7196),p=n(3609),h=n.n(p),m=n(6230),d=n(6310),f=n.n(d),b=n(3804),v=n(6594),y=function(e){var t=e.id,n=e.onOpen,r=e.onClose,i=(0,b.useState)(!1),a=f()(i,2),o=a[0],l=a[1],s=(0,m.m)().seoStore,u=(0,b.useCallback)((function(){l(!0),s.setCurrentAttachment(t),s.fetch(!0),null==n||n()}),[l,t,s,n]),p=(0,b.useCallback)((function(){l(!1),s.resetCurrentAttachment(),null==r||r()}),[l,s,r]);return React.createElement(React.Fragment,null,React.createElement("a",{key:"link",className:"button",onClick:u},(0,c.__)("SEO Redirects")),React.createElement(v.p,{key:"dialog",open:o,onClose:p}))};function g(){l.hooks.register("wprfc/rpm/customField",function(){var e=o()(i().mark((function e(t){var n,r,a,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.id,h()(this).html('<span class="spinner is-active"></span>'),e.next=4,(0,c.request)({location:s.locationRestCustomFieldGet,params:{id:n}});case 4:r=e.sent,a=r.html,h()(this).html(a),(o=h()(this).find(".rpm-single-seo").get(0))&&(0,u.render)(React.createElement(m.M.StoreProvider,null,React.createElement(y,{id:n,onOpen:function(){return h()(".media-modal.wp-core-ui").parent().hide()},onClose:function(){return h()(".media-modal.wp-core-ui").parent().show()}})),o);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}())}},8018:function(e,t,n){"use strict";n.d(t,{W:function(){return i}});var r=n(1169);function i(){var e,t=document.getElementById("uploads_use_yearmonth_folders");t&&(t.disabled=!0)&&t.after(((e=document.createElement("span")).innerHTML=(0,r.__)("This option is not available because you are using <strong>Real Physical Media Plugin</strong> to physically restructure your files.<br/>"),e))}},1914:function(e,t,n){"use strict";n.d(t,{q:function(){return h}});var r=n(5450),i=n.n(r),a=n(8714),o=n.n(a),l=n(3609),c=n.n(l),s=n(1493),u=n(6230),p=n(1169);function h(){c()(document).on("click","a.rpm-manual-queue",(function(e){var t=c()(this),n=+t.attr("data-id");return o()(i().mark((function e(){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.ZP.loading((0,p.__)("Add file to queue...")),e.prev=1,e.next=4,u.M.get.queueStore.addItem(n);case 4:t.parents("[data-wprfc]").attr("data-wprfc-visible",1),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),s.ZP.error(e.t0.responseJSON.message);case 10:return e.prev=10,r(),e.finish(10);case 13:case"end":return e.stop()}}),e,null,[[1,7,10,13]])})))(),e.preventDefault()})),p.Hooks.handler.addAction(p.Hooks.ACTION_PHYSICAL_UPDATED,"internal/compatView",(function(e){var t=e.done.attachment;c()('[data-wprfc="rpm/customField"][data-id="'.concat(t,'"]:visible')).attr("data-wprfc-visible",1)}))}},9238:function(e,t,n){"use strict";n.d(t,{N:function(){return a}});var r=n(3609),i=n.n(r);function a(){i()(".rpm-option-change").each((function(){var e=i()(this);e.parents("td").find(":input").on("change input",(function(){return e.removeClass("hidden")}))}))}},2232:function(e,t,n){"use strict";n.d(t,{s:function(){return l}});var r=n(3609),i=n.n(r),a=n(1493),o=n(1169);function l(){i()(document).on("click","input.rpm-cronjob-url",(function(){i()(this).get(0).select(),document.execCommand("copy"),a.ZP.success((0,o.__)("Cronjob URL successfully copied to the clipboard."))}))}},2875:function(e,t,n){"use strict";n.d(t,{o:function(){return c}});var r=n(6204),i=n(6230),a=n(3609),o=n.n(a),l=["rest/button/success/reset/relations","rest/button/success/reset/folders","folder/deleted","folder/moved","folder/renamed","attachment/move/finished","folder/meta/saved"];function c(){var e=i.M.get,t=e.queueStore,n=e.optionStore;r.hooks.register("rest/button/success/queue/item/potential",(function(){return t.refresh()})),r.hooks.register("rest/button/prepare/schema/filelength",(function(e){e.post_name=+o()("#rpm_advanced_post_name").val(),e.guid=+o()("#rpm_advanced_guid").val()})),r.hooks.register(l.join(" "),(function(){var e=n.others,r=e.isFirstTimeMoveHintDismissed,i=e.manageOptions;t.canAutomaticQueueing?t.refresh():!r&&i&&n.setAutomaticInfoPanelOpen(!0)}))}},9596:function(e,t,n){"use strict";n.d(t,{D:function(){return m}});var r=n(7196),i=n(8644),a=n(1169),o=n(3795),l=(0,i.Pi)((function(){return React.createElement(React.Fragment,null,React.createElement("p",null,(0,a._i)((0,a.__)("You have successfully activated {{strong}}Real Physical Media{{/strong}}. To use Real Physical Media you need to install a media file handler, which moves files in your media library later. We recommend Media File Renamer (free)."),{strong:React.createElement("strong",null)})),React.createElement("ul",null,React.createElement(o.N,null)))})),c=n(6230),s=n(3609),u=n.n(s),p=n(2965),h=n(923);function m(){var e=document.getElementById("rpm-no-handler-notice");if(e){(0,r.render)(React.createElement(h.ZP,{prefixCls:"rpm-antd"},React.createElement(c.M.StoreProvider,null,React.createElement(l,null))),e),u()(e).removeClass("hidden");var t=(0,p.when)((function(){return c.M.get.queueStore.isHandlerActive}),(function(){setTimeout((function(){return u()(e).remove()}),1e3),t()}))}}},8394:function(e,t,n){"use strict";n.d(t,{X:function(){return l}});var r=n(3609),i=n.n(r),a=n(1169),o=n(6204);function l(){a.Hooks.handler.addAction(a.Hooks.ACTION_PHYSICAL_UPDATED,"internal/urlReplace",(function(e){var t=e.done,n=t.attachment,r=t.currentFolderId,a=e.newSizes;i()(".attachments-browser").each((function(){var e=i()(this).data("backboneView");if(e){var t=e.controller.browserView.attachments.collection.get(n);if(t){var l=i().extend(!0,{},t.get("sizes"));i().each(a,(function(e,t){l[e]&&(l[e].url=t)})),t.set("sizes",l),t.set("url",a.full)}else o.store.addFoldersNeedsRefresh("all"),o.store.addFoldersNeedsRefresh(r)}})),i()(".attachment-details[data-id=".concat(n,'] [data-setting="url"] input')).val(a.full)}))}},1741:function(e,t,n){"use strict";n.d(t,{My:function(){return r.M},mZ:function(){return r.m},aZ:function(){return i.a},L7:function(){return a.L},Y:function(){return o.Y}});var r=n(6230),i=n(9661),a=n(5622),o=n(9725)},9661:function(e,t,n){"use strict";n.d(t,{a:function(){return C}});var r,i,a,o=n(5450),l=n.n(o),c=n(7830),s=n.n(c),u=n(1234),p=n.n(u),h=n(759),m=n.n(h),d=n(7786),f=n.n(d),b=n(985),v=n.n(b),y=n(4552),g=n.n(y),R=n(410),w=n.n(R),E=(n(2983),n(2965)),_=n(8685),x=n(1169),S=n(1285),k=n(9085),P=n(1742),A=n(3536),C=(r=function(e){v()(n,e);var t=g()(n);function n(e){var r;return p()(this,n),r=t.call(this),s()(r,"view",i,m()(r)),s()(r,"others",a,m()(r)),r.pureSlug=void 0,r.pureSlugCamelCased=void 0,r.rootStore=void 0,r.setIsAutomaticQueueing=(0,E.flow)(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,x.request)({location:S.$,request:{state:t}});case 2:this.others.isAutomaticQueueing=t;case 3:case"end":return e.stop()}}),e,this)}))),r.dismissFirstTimeQueueNotice=(0,E.flow)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.others.isFirstTimeQueueNoticeDismissed){e.next=2;break}return e.abrupt("return");case 2:return this.others.isFirstTimeQueueNoticeDismissed=!0,e.next=5,(0,x.request)({location:k.p});case 5:case"end":return e.stop()}}),e,this)}))),r.rootStore=e,r.pureSlug=_.BaseOptions.getPureSlug({NODE_ENV:"production",env:"production",rootSlug:"devowl-wp",slug:"real-physical-media",ANTD_PREFIX:"rpm-antd"}),r.pureSlugCamelCased=_.BaseOptions.getPureSlug({NODE_ENV:"production",env:"production",rootSlug:"devowl-wp",slug:"real-physical-media",ANTD_PREFIX:"rpm-antd"},!0),(0,E.runInAction)((function(){return Object.assign(m()(r),window[r.pureSlugCamelCased])})),r}return f()(n,[{key:"isRatable",get:function(){return(0,A.isRatable)(this.slug)}},{key:"forcePopupOpen",get:function(){return this.view.isAutomaticInfoPanelOpen||!this.others.isFirstTimeQueueNoticeDismissed&&this.rootStore.queueStore.isHandlerActive}}]),f()(n,[{key:"setAutomaticInfoPanelOpen",value:function(e){this.view.isAutomaticInfoPanelOpen=e,e||this.others.isFirstTimeMoveHintDismissed||(this.others.isFirstTimeMoveHintDismissed=!0,(0,x.request)({location:P.V}))}}]),n}(_.BaseOptions),i=w()(r.prototype,"view",[E.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{isAutomaticInfoPanelOpen:!1}}}),a=w()(r.prototype,"others",[E.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w()(r.prototype,"forcePopupOpen",[E.computed],Object.getOwnPropertyDescriptor(r.prototype,"forcePopupOpen"),r.prototype),w()(r.prototype,"setAutomaticInfoPanelOpen",[E.action],Object.getOwnPropertyDescriptor(r.prototype,"setAutomaticInfoPanelOpen"),r.prototype),r)},5622:function(e,t,n){"use strict";n.d(t,{L:function(){return _e}});var r,i,a,o,l,c,s,u,p,h,m,d,f,b,v,y,g,R,w,E,_,x,S,k,P,A,C,z,O,D,N,q,T,I,M,H,U,F,L,Q,Z,j,V,B,G,X,Y,W,$=n(5450),J=n.n($),K=n(7830),ee=n.n(K),te=n(1234),ne=n.n(te),re=n(7786),ie=n.n(re),ae=n(410),oe=n.n(ae),le=(n(2983),n(2965)),ce=(r=function e(t){var n=this;ne()(this,e),ee()(this,"id",i,this),ee()(this,"attachment",a,this),ee()(this,"loaded",o,this),ee()(this,"total",l,this),ee()(this,"created",c,this),ee()(this,"logId",s,this),ee()(this,"cleanupPath",u,this),ee()(this,"currentFolderId",p,this),ee()(this,"filename",h,this),ee()(this,"sourceAbsPath",m,this),ee()(this,"sourcePath",d,this),ee()(this,"destinationPath",f,this),ee()(this,"destinationPathRelativeUploadDir",b,this),(0,le.runInAction)((function(){return(0,le.set)(n,t)}))},i=oe()(r.prototype,"id",[le.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),a=oe()(r.prototype,"attachment",[le.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),o=oe()(r.prototype,"loaded",[le.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),l=oe()(r.prototype,"total",[le.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c=oe()(r.prototype,"created",[le.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),s=oe()(r.prototype,"logId",[le.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=oe()(r.prototype,"cleanupPath",[le.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=oe()(r.prototype,"currentFolderId",[le.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=oe()(r.prototype,"filename",[le.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=oe()(r.prototype,"sourceAbsPath",[le.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=oe()(r.prototype,"sourcePath",[le.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=oe()(r.prototype,"destinationPath",[le.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=oe()(r.prototype,"destinationPathRelativeUploadDir",[le.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),r),se=(v=function e(t){var n=this;ne()(this,e),ee()(this,"attachment",y,this),ee()(this,"isImage",g,this),ee()(this,"currentFolderId",R,this),ee()(this,"filename",w,this),ee()(this,"destinationPath",E,this),ee()(this,"preview",_,this),ee()(this,"duration",x,this),(0,le.runInAction)((function(){return(0,le.set)(n,t)}))},y=oe()(v.prototype,"attachment",[le.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=oe()(v.prototype,"isImage",[le.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),R=oe()(v.prototype,"currentFolderId",[le.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=oe()(v.prototype,"filename",[le.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=oe()(v.prototype,"destinationPath",[le.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=oe()(v.prototype,"preview",[le.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),x=oe()(v.prototype,"duration",[le.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),v),ue=n(1169),pe=n(9493),he=n(795),me=wp,de=n.n(me),fe=n(3609),be=n.n(fe),ve=(S=function e(t,n){var r=this;ne()(this,e),ee()(this,"id",k,this),ee()(this,"file",P,this),ee()(this,"name",A,this),ee()(this,"error",C,this),ee()(this,"author",z,this),ee()(this,"origin",O,this),ee()(this,"installUrl",D,this),ee()(this,"isActivated",N,this),ee()(this,"isInstalled",q,this),ee()(this,"isHandler",T,this),ee()(this,"activatePluginUrl",I,this),ee()(this,"busy",M,this),this.queueStore=void 0,this.toggle=(0,le.flow)(J().mark((function e(){return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.busy=!0,e.prev=1,!this.isHandler){e.next=7;break}return e.next=5,(0,ue.request)({location:pe.N,request:{handler:this.id}});case 5:e.next=9;break;case 7:return e.next=9,(0,ue.request)({location:he.A,request:{handler:this.id}});case 9:!this.isHandler&&this.queueStore.handlers.forEach((function(e){return e.isHandler&&(e.isHandler=!1)})),this.isHandler=!this.isHandler;case 11:return e.prev=11,this.busy=!1,e.finish(11);case 14:case"end":return e.stop()}}),e,this,[[1,,11,14]])}))),this.installAndActivate=(0,le.flow)(J().mark((function e(){var t,n;return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.busy=!0,n=null===de()||void 0===de()||null===(t=de().ajax)||void 0===t?void 0:t.send,!this.isInstalled){e.next=16;break}return e.prev=3,e.next=6,be().get(this.activatePluginUrl).promise();case 6:return this.isActivated=!0,e.next=9,this.toggle();case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),window.location.href=this.activatePluginUrl;case 14:e.next=31;break;case 16:if(!n){e.next=30;break}return e.prev=17,e.next=20,n({data:{action:"install-plugin",slug:this.id,_ajax_nonce:this.queueStore.rootStore.optionStore.others.installPluginNonce}});case 20:return this.isInstalled=!0,e.next=23,this.installAndActivate();case 23:e.next=28;break;case 25:e.prev=25,e.t1=e.catch(17),window.location.href=this.installUrl;case 28:e.next=31;break;case 30:window.location.href=this.installUrl;case 31:case"end":return e.stop()}}),e,this,[[3,11],[17,25]])}))),this.queueStore=n,(0,le.runInAction)((function(){return(0,le.set)(r,t)}))},k=oe()(S.prototype,"id",[le.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=oe()(S.prototype,"file",[le.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=oe()(S.prototype,"name",[le.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=oe()(S.prototype,"error",[le.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=oe()(S.prototype,"author",[le.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=oe()(S.prototype,"origin",[le.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=oe()(S.prototype,"installUrl",[le.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=oe()(S.prototype,"isActivated",[le.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),q=oe()(S.prototype,"isInstalled",[le.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=oe()(S.prototype,"isHandler",[le.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=oe()(S.prototype,"activatePluginUrl",[le.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=oe()(S.prototype,"busy",[le.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),S),ye=(H=function(){function e(t,n){var r=this;ne()(this,e),ee()(this,"code",U,this),ee()(this,"data",F,this),ee()(this,"message",L,this),ee()(this,"uiDetails",Q,this),this.queueStore=void 0,this.queueStore=n,(0,le.runInAction)((function(){return(0,le.set)(r,t)}))}return ie()(e,[{key:"toggleUi",value:function(){this.uiDetails=!this.uiDetails}},{key:"retry",value:function(){this.queueStore.setForceNextProcessMethod("retry").refresh()}},{key:"skip",value:function(){this.queueStore.setForceNextProcessMethod("skip").refresh()}}]),e}(),U=oe()(H.prototype,"code",[le.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=oe()(H.prototype,"data",[le.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=oe()(H.prototype,"message",[le.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Q=oe()(H.prototype,"uiDetails",[le.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),oe()(H.prototype,"toggleUi",[le.action],Object.getOwnPropertyDescriptor(H.prototype,"toggleUi"),H.prototype),H),ge=n(1493),Re=n(2493),we=n(3542),Ee=n(8471),_e=(Z=function(){function e(t){var n=this;ne()(this,e),ee()(this,"handlers",j,this),ee()(this,"queue",V,this),ee()(this,"done",B,this),ee()(this,"countdown",G,this),ee()(this,"count",X,this),ee()(this,"pausedError",Y,this),ee()(this,"estimate",W,this),this.rootStore=void 0,this.countdownTimeout=void 0,this.forceNextProcessMethod=void 0,this.skipNextCount=!1,this.addItem=(0,le.flow)(J().mark((function e(t){return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,ue.request)({location:Re.C,params:{id:t}});case 2:this.refresh();case 3:case"end":return e.stop()}}),e,this)}))),this.handleCountdown=(0,le.flow)(J().mark((function e(){var t;return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.countdown<=0)||this.pausedError){e.next=15;break}return e.prev=1,e.next=4,this.process(this.count>0||this.skipNextCount?"POST":"GET");case 4:e.next=10;break;case 6:e.prev=6,e.t0=e.catch(1),e.t0.responseJSON&&((t=e.t0.responseJSON).message&&ge.ZP.error(t.message),this.pausedError=new ye(t,this)),console.error(e.t0);case 10:return e.prev=10,this.reinitCountdown(),e.finish(10);case 13:e.next=17;break;case 15:this.countdown=this.countdown-1,this.countdownTimeout=setTimeout(this.handleCountdown.bind(this),1e3);case 17:this.skipNextCount=!1;case 18:case"end":return e.stop()}}),e,this,[[1,6,10,13]])}))),this.process=(0,le.flow)(J().mark((function e(t){var n,r,i,a,o,l,c,s=this;return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.countdown=0,clearTimeout(this.countdownTimeout),"GET"!==t){e.next=8;break}return e.next=5,(0,ue.request)({location:we.U});case 5:n=e.sent,e.next=11;break;case 8:return e.next=10,(0,ue.request)({location:Ee.i,request:{skip:this.forceNextProcessMethod}});case 10:n=e.sent;case 11:return i=(r=n).rows,a=r.count,o=r.estimate,l=r.done,c=r.doneUrlPrefix,this.forceNextProcessMethod=void 0,this.count=a,this.estimate=o,this.queue=i.map((function(e){return new ce(e)})),be().each(l,(function(e,t){var n=t.d,r=t.f,i=t.i,a=t.u,o=t.fid,l=t.ms,u=[];be().each(a,(function(e,t){a[e]=c+t,u.push(a[e])}));var p=new se({attachment:e,isImage:i,currentFolderId:o,filename:r,destinationPath:n,preview:"string"==typeof a.thumbnail?a.thumbnail:"",duration:l});s.done.unshift(p);try{ue.Hooks.handler.doAction(ue.Hooks.ACTION_PHYSICAL_UPDATED,{done:p,urls:u,newSizes:a})}catch(e){console.error(e)}})),e.abrupt("return",n);case 18:case"end":return e.stop()}}),e,this)}))),this.rootStore=t,(0,le.runInAction)((function(){var e=n.rootStore.optionStore.others,t=e.handlers,r=e.initialQueue,i=e.initialPausedError;n.handlers=t.map((function(e){return new ve(e,n)})),n.queue=r.rows.map((function(e){return new ce(e)})),i&&(n.pausedError=new ye(i,n)),n.estimate=r.estimate,n.count=r.count})),this.reinitCountdown()}return ie()(e,[{key:"isHandlerActive",get:function(){return!!this.handlers.filter((function(e){return e.isHandler})).length}},{key:"canAutomaticQueueing",get:function(){return this.rootStore.optionStore.others.isAutomaticQueueing&&this.isHandlerActive}},{key:"doneUnique",get:function(){for(var e,t,n={},r=[],i=0;i<this.done.length&&(t=this.done[i],void 0===n[e="".concat(t.filename).concat(t.destinationPath)]&&r.push(t),n[e]=0,3!==r.length);i++);return r}}]),ie()(e,[{key:"setForceNextProcessMethod",value:function(e){return this.forceNextProcessMethod=e,this}},{key:"refresh",value:function(){this.pausedError=void 0,this.skipNextCount=!0,this.countdown=0}},{key:"reinitCountdown",value:function(){var e=this.rootStore.optionStore.others.countDown,t=e.pause,n=e.processing;this.countdown=this.count>0?n:t,this.handleCountdown()}}]),e}(),j=oe()(Z.prototype,"handlers",[le.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),V=oe()(Z.prototype,"queue",[le.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),B=oe()(Z.prototype,"done",[le.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),G=oe()(Z.prototype,"countdown",[le.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),X=oe()(Z.prototype,"count",[le.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Y=oe()(Z.prototype,"pausedError",[le.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=oe()(Z.prototype,"estimate",[le.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),oe()(Z.prototype,"isHandlerActive",[le.computed],Object.getOwnPropertyDescriptor(Z.prototype,"isHandlerActive"),Z.prototype),oe()(Z.prototype,"canAutomaticQueueing",[le.computed],Object.getOwnPropertyDescriptor(Z.prototype,"canAutomaticQueueing"),Z.prototype),oe()(Z.prototype,"doneUnique",[le.computed],Object.getOwnPropertyDescriptor(Z.prototype,"doneUnique"),Z.prototype),oe()(Z.prototype,"setForceNextProcessMethod",[le.action],Object.getOwnPropertyDescriptor(Z.prototype,"setForceNextProcessMethod"),Z.prototype),oe()(Z.prototype,"refresh",[le.action],Object.getOwnPropertyDescriptor(Z.prototype,"refresh"),Z.prototype),oe()(Z.prototype,"reinitCountdown",[le.action],Object.getOwnPropertyDescriptor(Z.prototype,"reinitCountdown"),Z.prototype),Z)},9725:function(e,t,n){"use strict";n.d(t,{Y:function(){return N}});var r,i,a,o,l,c,s,u,p=n(5450),h=n.n(p),m=n(6526),d=n.n(m),f=n(7830),b=n.n(f),v=n(1234),y=n.n(v),g=n(7786),R=n.n(g),w=n(410),E=n.n(w),_=(n(2983),n(2965)),x=n(1169),S=n(7003),k=n(3610),P=n(5907),A=n(4625),C=n(5859),z=n(7567),O=n(9055),D=n(6204),N=(r=function(){function e(t){y()(this,e),b()(this,"state",i,this),b()(this,"count",a,this),b()(this,"busy",o,this),b()(this,"items",l,this),b()(this,"bytes",c,this),b()(this,"sizes",s,this),b()(this,"currentAttachment",u,this),this.rootStore=void 0,this.fetch=(0,_.flow)(h().mark((function e(){var t,n,r,i,a,o,l,c,s=this,u=arguments;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=u.length>1&&void 0!==u[1]&&u[1],this.busy=!0,!0===t&&(this.items=[]),!0===t&&(this.sizes=[]),!(this.currentAttachment>0)){e.next=10;break}return e.next=7,(0,x.request)({location:S.X,params:{skip:this.items.length,id:this.currentAttachment}});case 7:n=e.sent,e.next=13;break;case 10:return e.next=12,(0,x.request)({location:k.b,params:{skip:this.items.length}});case 12:n=e.sent;case 13:i=(r=n).cnt,a=r.items,o=r.size,l=r.sizes,c=r.state,a.forEach((function(e){return s.items.push(new O.$(d()(d()({},e),{},{type:"original"}),s))})),this.state=c,this.sizes=l,this.count=i,this.bytes=o,this.busy=!1;case 20:case"end":return e.stop()}}),e,this)}))),this.clear=(0,_.flow)(h().mark((function e(t){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=5;break}return e.next=3,(0,x.request)({location:P.B,params:{size:t}});case 3:e.next=7;break;case 5:return e.next=7,(0,x.request)({location:A.L});case 7:this.fetch(!0);case 8:case"end":return e.stop()}}),e,this)}))),this.setState=(0,_.flow)(h().mark((function e(t){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.items=[],this.busy=!0,!t){e.next=7;break}return e.next=5,(0,x.request)({location:C.f});case 5:e.next=9;break;case 7:return e.next=9,(0,x.request)({location:z.c});case 9:this.fetch(!0),this.busy=!1;case 11:case"end":return e.stop()}}),e,this)}))),this.toggleState=(0,_.flow)(h().mark((function e(){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setState(!this.state);case 2:case"end":return e.stop()}}),e,this)}))),this.rootStore=t}return R()(e,[{key:"sizeReadable",get:function(){return(0,D.humanFileSize)(this.bytes||0)}}]),R()(e,[{key:"setCurrentAttachment",value:function(e){this.currentAttachment=e}},{key:"resetCurrentAttachment",value:function(){this.setCurrentAttachment(0)}}]),e}(),i=E()(r.prototype,"state",[_.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),a=E()(r.prototype,"count",[_.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),o=E()(r.prototype,"busy",[_.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),l=E()(r.prototype,"items",[_.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),c=E()(r.prototype,"bytes",[_.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),s=E()(r.prototype,"sizes",[_.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),u=E()(r.prototype,"currentAttachment",[_.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),E()(r.prototype,"sizeReadable",[_.computed],Object.getOwnPropertyDescriptor(r.prototype,"sizeReadable"),r.prototype),E()(r.prototype,"setCurrentAttachment",[_.action],Object.getOwnPropertyDescriptor(r.prototype,"setCurrentAttachment"),r.prototype),r)},6230:function(e,t,n){"use strict";n.d(t,{M:function(){return h},m:function(){return m}});var r=n(1234),i=n.n(r),a=n(7786),o=n.n(a),l=n(2965),c=n(8685),s=n(9661),u=n(5622),p=n(9725);(0,l.configure)({enforceActions:"always"});var h=function(){function e(){i()(this,e),this.optionStore=void 0,this.queueStore=void 0,this.seoStore=void 0,this.contextMemo=void 0,this.optionStore=new s.a(this),this.queueStore=new u.L(this),this.seoStore=new p.Y(this)}return o()(e,[{key:"context",get:function(){return this.contextMemo?this.contextMemo:this.contextMemo=(0,c.createContextFactory)(this)}}]),o()(e,null,[{key:"StoreProvider",get:function(){return e.get.context.StoreProvider}},{key:"get",get:function(){return e.me?e.me:e.me=new e}}]),e}();h.me=void 0;var m=function(){return h.get.context.useStores()}},3416:function(e,t,n){"use strict";n.d(t,{P:function(){return c}});var r=n(1234),i=n.n(r),a=n(7786),o=n.n(a),l=n(4978),c=function(){function e(){i()(this,e),this.handler=void 0,this.handler=(0,l.Hu)()}return o()(e,null,[{key:"handler",get:function(){return e.get.handler}},{key:"get",get:function(){return e.me?e.me:e.me=new e}}]),e}();c.ACTION_PHYSICAL_UPDATED="physical-updated",c.me=void 0},1169:function(e,t,n){"use strict";n.r(t),n.d(t,{urlBuilder:function(){return b},request:function(){return v},_n:function(){return y},_nx:function(){return g},_x:function(){return R},__:function(){return w},_i:function(){return E},repeatStringNumTimes:function(){return s.M},reactNl2Br:function(){return m.E},Hooks:function(){return d.P}});var r=n(1234),i=n.n(r),a=n(7786),o=n.n(a),l=n(8685),c=n(6230),s=n(8795),u=n(6545),p={};for(var h in u)["default","urlBuilder","request","_n","_nx","_x","__","_i","repeatStringNumTimes"].indexOf(h)<0&&(p[h]=function(e){return u[e]}.bind(0,h));n.d(t,p);var m=n(6382),d=n(3416),f=function(){function e(){i()(this,e),this.requestMemo=void 0,this.localizationMemo=void 0}return o()(e,[{key:"request",get:function(){return this.requestMemo?this.requestMemo:this.requestMemo=(0,l.createRequestFactory)(c.M.get.optionStore)}},{key:"localization",get:function(){return this.localizationMemo?this.localizationMemo:this.localizationMemo=(0,l.createLocalizationFactory)(c.M.get.optionStore.pureSlug)}}],[{key:"get",get:function(){return e.me?e.me:e.me=new e}}]),e}();f.me=void 0;var b=function(){var e;return(e=f.get.request).urlBuilder.apply(e,arguments)},v=function(){var e;return(e=f.get.request).request.apply(e,arguments)},y=function(){var e;return(e=f.get.localization)._n.apply(e,arguments)},g=function(){var e;return(e=f.get.localization)._nx.apply(e,arguments)},R=function(){var e;return(e=f.get.localization)._x.apply(e,arguments)},w=function(){var e;return(e=f.get.localization).__.apply(e,arguments)},E=function(){var e;return(e=f.get.localization)._i.apply(e,arguments)}},6382:function(e,t,n){"use strict";n.d(t,{E:function(){return a}});var r=n(3804),i=/(\r\n|\r|\n|<br[ ]?\/>)/g,a=function(e){return e.split(i).map((function(e,t){return e.match(i)?(0,r.createElement)("br",{key:t}):e}))}},8795:function(e,t,n){"use strict";function r(e,t){return t<0?"":1===t?e:e+r(e,t-1)}n.d(t,{M:function(){return r}})},6545:function(){},9493:function(e,t,n){"use strict";n.d(t,{N:function(){return r}});var r={path:"/handler",method:n(8685).RouteHttpVerb.DELETE}},795:function(e,t,n){"use strict";n.d(t,{A:function(){return r}});var r={path:"/handler",method:n(8685).RouteHttpVerb.POST}},6130:function(e,t,n){"use strict";n.d(t,{C3:function(){return p},Nx:function(){return a.N},AL:function(){return o.A},uG:function(){return i},Vh:function(){return _.V},$q:function(){return l.$},UA:function(){return c.U},Cx:function(){return u.C},if:function(){return s.i},pA:function(){return x.p},XC:function(){return E.X},oq:function(){return y.o},QO:function(){return v.Q},gX:function(){return g.g},L3:function(){return b.L},Uq:function(){return w.U},Bh:function(){return f.B},Xb:function(){return R.X},b2:function(){return d.b},cY:function(){return h.c},ft:function(){return m.f}});var r=n(8685),i={path:"/notice/license",method:r.RouteHttpVerb.DELETE},a=n(9493),o=n(795),l=n(1285),c=n(3542),s=n(8471),u=n(2493),p={path:"/customField/:id",method:r.RouteHttpVerb.GET},h=n(7567),m=n(5859),d=n(3610),f=n(5907),b=n(4625),v=n(8169),y=n(1349),g=n(5630),R=n(433),w=n(697),E=n(7003),_=n(1742),x=n(9085)},1742:function(e,t,n){"use strict";n.d(t,{V:function(){return r}});var r={path:"/queue/automatic-hint/dismiss",method:n(8685).RouteHttpVerb.DELETE}},1285:function(e,t,n){"use strict";n.d(t,{$:function(){return r}});var r={path:"/queue/automatic",method:n(8685).RouteHttpVerb.POST}},2493:function(e,t,n){"use strict";n.d(t,{C:function(){return r}});var r={path:"/queue/item/:id",method:n(8685).RouteHttpVerb.POST}},9085:function(e,t,n){"use strict";n.d(t,{p:function(){return r}});var r={path:"/queue/notice/dismiss",method:n(8685).RouteHttpVerb.DELETE}},3542:function(e,t,n){"use strict";n.d(t,{U:function(){return r}});var r={path:"/queue",method:n(8685).RouteHttpVerb.GET}},8471:function(e,t,n){"use strict";n.d(t,{i:function(){return r}});var r={path:"/queue",method:n(8685).RouteHttpVerb.POST}},1349:function(e,t,n){"use strict";n.d(t,{o:function(){return r}});var r={path:"/seo/:id/older",method:n(8685).RouteHttpVerb.GET}},8169:function(e,t,n){"use strict";n.d(t,{Q:function(){return r}});var r={path:"/seo/:processId/thumbs",method:n(8685).RouteHttpVerb.GET}},7003:function(e,t,n){"use strict";n.d(t,{X:function(){return r}});var r={path:"/seo/:id",method:n(8685).RouteHttpVerb.GET}},5630:function(e,t,n){"use strict";n.d(t,{g:function(){return r}});var r={path:"/seo/clear/attachment/:id",method:n(8685).RouteHttpVerb.DELETE}},697:function(e,t,n){"use strict";n.d(t,{U:function(){return r}});var r={path:"/seo/clear/process/:processId",method:n(8685).RouteHttpVerb.DELETE}},5907:function(e,t,n){"use strict";n.d(t,{B:function(){return r}});var r={path:"/seo/clear/size/:size",method:n(8685).RouteHttpVerb.DELETE}},433:function(e,t,n){"use strict";n.d(t,{X:function(){return r}});var r={path:"/seo/clear/id/:id",method:n(8685).RouteHttpVerb.DELETE}},4625:function(e,t,n){"use strict";n.d(t,{L:function(){return r}});var r={path:"/seo/clear/all",method:n(8685).RouteHttpVerb.DELETE}},7567:function(e,t,n){"use strict";n.d(t,{c:function(){return r}});var r={path:"/seo/state",method:n(8685).RouteHttpVerb.DELETE}},5859:function(e,t,n){"use strict";n.d(t,{f:function(){return r}});var r={path:"/seo/state",method:n(8685).RouteHttpVerb.POST}},3610:function(e,t,n){"use strict";n.d(t,{b:function(){return r}});var r={path:"/seo",method:n(8685).RouteHttpVerb.GET}},9458:function(){},1798:function(){},3804:function(e){"use strict";e.exports=React},7196:function(e){"use strict";e.exports=ReactDOM},3536:function(e){"use strict";e.exports=devowlWp_realUtils},8685:function(e){"use strict";e.exports=devowlWp_utils},3609:function(e){"use strict";e.exports=jQuery},2965:function(e){"use strict";e.exports=mobx},6204:function(e){"use strict";e.exports=rml}},t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={exports:{}};return e[r](i,i.exports,n),i.exports}return n.m=e,n.x=function(){},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){var e={328:0},t=[[2423,194]],r=function(){},i=function(i,a){for(var o,l,c=a[0],s=a[1],u=a[2],p=a[3],h=0,m=[];h<c.length;h++)l=c[h],n.o(e,l)&&e[l]&&m.push(e[l][0]),e[l]=0;for(o in s)n.o(s,o)&&(n.m[o]=s[o]);for(u&&u(n),i&&i(a);m.length;)m.shift()();return p&&t.push.apply(t,p),r()},a=self.webpackChunkrealPhysicalMedia_name_=self.webpackChunkrealPhysicalMedia_name_||[];function o(){for(var r,i=0;i<t.length;i++){for(var a=t[i],o=!0,l=1;l<a.length;l++){var c=a[l];0!==e[c]&&(o=!1)}o&&(t.splice(i--,1),r=n(n.s=a[0]))}return 0===t.length&&(n.x(),n.x=function(){}),r}a.forEach(i.bind(null,0)),a.push=i.bind(null,a.push.bind(a));var l=n.x;n.x=function(){return n.x=l||function(){},(r=o)()}}(),n.x()}();
//# sourceMappingURL=admin.js.map